#!/usr/bin/python

import numpy as np

encode_table = [
    (  0, 0, '0010111001', 0),
    (  0, 1, '1101000110', 1),
    (  1, 0, '0010101110', 0),
    (  1, 1, '1101010001', 1),
    (  2, 0, '0010101101', 0),
    (  2, 1, '1101010010', 1),
    (  3, 0, '1101100011', 1),
    (  3, 1, '0010100011', 0),
    (  4, 0, '0010101011', 0),
    (  4, 1, '1101010100', 1),
    (  5, 0, '1101100101', 1),
    (  5, 1, '0010100101', 0),
    (  6, 0, '1101100110', 1),
    (  6, 1, '0010100110', 0),
    (  7, 0, '1101000111', 1),
    (  7, 1, '0010111000', 0),
    (  8, 0, '0010100111', 0),
    (  8, 1, '1101011000', 1),
    (  9, 0, '1101101001', 1),
    (  9, 1, '0010101001', 0),
    ( 10, 0, '1101101010', 1),
    ( 10, 1, '0010101010', 0),
    ( 11, 0, '1101001011', 1),
    ( 11, 1, '0010001011', 0),
    ( 12, 0, '1101101100', 1),
    ( 12, 1, '0010101100', 0),
    ( 13, 0, '1101001101', 1),
    ( 13, 1, '0010001101', 0),
    ( 14, 0, '1101001110', 1),
    ( 14, 1, '0010001110', 0),
    ( 15, 0, '0010111010', 0),
    ( 15, 1, '1101000101', 1),
    ( 16, 0, '0010110110', 0),
    ( 16, 1, '1101001001', 1),
    ( 17, 0, '1101110001', 1),
    ( 17, 1, '0010110001', 0),
    ( 18, 0, '1101110010', 1),
    ( 18, 1, '0010110010', 0),
    ( 19, 0, '1101010011', 1),
    ( 19, 1, '0010010011', 0),
    ( 20, 0, '1101110100', 1),
    ( 20, 1, '0010110100', 0),
    ( 21, 0, '1101010101', 1),
    ( 21, 1, '0010010101', 0),
    ( 22, 0, '1101010110', 1),
    ( 22, 1, '0010010110', 0),
    ( 23, 0, '0010010111', 0),
    ( 23, 1, '1101101000', 1),
    ( 24, 0, '0010110011', 0),
    ( 24, 1, '1101001100', 1),
    ( 25, 0, '1101011001', 1),
    ( 25, 1, '0010011001', 0),
    ( 26, 0, '1101011010', 1),
    ( 26, 1, '0010011010', 0),
    ( 27, 0, '0010011011', 0),
    ( 27, 1, '1101100100', 1),
    ( 28, 0, '1101011100', 1),
    ( 28, 1, '0010011100', 0),
    ( 29, 0, '0010011101', 0),
    ( 29, 1, '1101100010', 1),
    ( 30, 0, '0010011110', 0),
    ( 30, 1, '1101100001', 1),
    ( 31, 0, '0010110101', 0),
    ( 31, 1, '1101001010', 1),
    ( 32, 0, '1001111001', 1),
    ( 32, 1, '1001000110', 0),
    ( 33, 0, '1001101110', 1),
    ( 33, 1, '1001010001', 0),
    ( 34, 0, '1001101101', 1),
    ( 34, 1, '1001010010', 0),
    ( 35, 0, '1001100011', 0),
    ( 35, 1, '1001100011', 1),
    ( 36, 0, '1001101011', 1),
    ( 36, 1, '1001010100', 0),
    ( 37, 0, '1001100101', 0),
    ( 37, 1, '1001100101', 1),
    ( 38, 0, '1001100110', 0),
    ( 38, 1, '1001100110', 1),
    ( 39, 0, '1001000111', 0),
    ( 39, 1, '1001111000', 1),
    ( 40, 0, '1001100111', 1),
    ( 40, 1, '1001011000', 0),
    ( 41, 0, '1001101001', 0),
    ( 41, 1, '1001101001', 1),
    ( 42, 0, '1001101010', 0),
    ( 42, 1, '1001101010', 1),
    ( 43, 0, '1001001011', 0),
    ( 43, 1, '1001001011', 1),
    ( 44, 0, '1001101100', 0),
    ( 44, 1, '1001101100', 1),
    ( 45, 0, '1001001101', 0),
    ( 45, 1, '1001001101', 1),
    ( 46, 0, '1001001110', 0),
    ( 46, 1, '1001001110', 1),
    ( 47, 0, '1001111010', 1),
    ( 47, 1, '1001000101', 0),
    ( 48, 0, '1001110110', 1),
    ( 48, 1, '1001001001', 0),
    ( 49, 0, '1001110001', 0),
    ( 49, 1, '1001110001', 1),
    ( 50, 0, '1001110010', 0),
    ( 50, 1, '1001110010', 1),
    ( 51, 0, '1001010011', 0),
    ( 51, 1, '1001010011', 1),
    ( 52, 0, '1001110100', 0),
    ( 52, 1, '1001110100', 1),
    ( 53, 0, '1001010101', 0),
    ( 53, 1, '1001010101', 1),
    ( 54, 0, '1001010110', 0),
    ( 54, 1, '1001010110', 1),
    ( 55, 0, '1001010111', 1),
    ( 55, 1, '1001101000', 0),
    ( 56, 0, '1001110011', 1),
    ( 56, 1, '1001001100', 0),
    ( 57, 0, '1001011001', 0),
    ( 57, 1, '1001011001', 1),
    ( 58, 0, '1001011010', 0),
    ( 58, 1, '1001011010', 1),
    ( 59, 0, '1001011011', 1),
    ( 59, 1, '1001100100', 0),
    ( 60, 0, '1001011100', 0),
    ( 60, 1, '1001011100', 1),
    ( 61, 0, '1001011101', 1),
    ( 61, 1, '1001100010', 0),
    ( 62, 0, '1001011110', 1),
    ( 62, 1, '1001100001', 0),
    ( 63, 0, '1001110101', 1),
    ( 63, 1, '1001001010', 0),
    ( 64, 0, '1010111001', 1),
    ( 64, 1, '1010000110', 0),
    ( 65, 0, '1010101110', 1),
    ( 65, 1, '1010010001', 0),
    ( 66, 0, '1010101101', 1),
    ( 66, 1, '1010010010', 0),
    ( 67, 0, '1010100011', 0),
    ( 67, 1, '1010100011', 1),
    ( 68, 0, '1010101011', 1),
    ( 68, 1, '1010010100', 0),
    ( 69, 0, '1010100101', 0),
    ( 69, 1, '1010100101', 1),
    ( 70, 0, '1010100110', 0),
    ( 70, 1, '1010100110', 1),
    ( 71, 0, '1010000111', 0),
    ( 71, 1, '1010111000', 1),
    ( 72, 0, '1010100111', 1),
    ( 72, 1, '1010011000', 0),
    ( 73, 0, '1010101001', 0),
    ( 73, 1, '1010101001', 1),
    ( 74, 0, '1010101010', 0),
    ( 74, 1, '1010101010', 1),
    ( 75, 0, '1010001011', 0),
    ( 75, 1, '1010001011', 1),
    ( 76, 0, '1010101100', 0),
    ( 76, 1, '1010101100', 1),
    ( 77, 0, '1010001101', 0),
    ( 77, 1, '1010001101', 1),
    ( 78, 0, '1010001110', 0),
    ( 78, 1, '1010001110', 1),
    ( 79, 0, '1010111010', 1),
    ( 79, 1, '1010000101', 0),
    ( 80, 0, '1010110110', 1),
    ( 80, 1, '1010001001', 0),
    ( 81, 0, '1010110001', 0),
    ( 81, 1, '1010110001', 1),
    ( 82, 0, '1010110010', 0),
    ( 82, 1, '1010110010', 1),
    ( 83, 0, '1010010011', 0),
    ( 83, 1, '1010010011', 1),
    ( 84, 0, '1010110100', 0),
    ( 84, 1, '1010110100', 1),
    ( 85, 0, '1010010101', 0),
    ( 85, 1, '1010010101', 1),
    ( 86, 0, '1010010110', 0),
    ( 86, 1, '1010010110', 1),
    ( 87, 0, '1010010111', 1),
    ( 87, 1, '1010101000', 0),
    ( 88, 0, '1010110011', 1),
    ( 88, 1, '1010001100', 0),
    ( 89, 0, '1010011001', 0),
    ( 89, 1, '1010011001', 1),
    ( 90, 0, '1010011010', 0),
    ( 90, 1, '1010011010', 1),
    ( 91, 0, '1010011011', 1),
    ( 91, 1, '1010100100', 0),
    ( 92, 0, '1010011100', 0),
    ( 92, 1, '1010011100', 1),
    ( 93, 0, '1010011101', 1),
    ( 93, 1, '1010100010', 0),
    ( 94, 0, '1010011110', 1),
    ( 94, 1, '1010100001', 0),
    ( 95, 0, '1010110101', 1),
    ( 95, 1, '1010001010', 0),
    ( 96, 0, '1100111001', 1),
    ( 96, 1, '0011000110', 0),
    ( 97, 0, '1100101110', 1),
    ( 97, 1, '0011010001', 0),
    ( 98, 0, '1100101101', 1),
    ( 98, 1, '0011010010', 0),
    ( 99, 0, '0011100011', 0),
    ( 99, 1, '1100100011', 1),
    (100, 0, '1100101011', 1),
    (100, 1, '0011010100', 0),
    (101, 0, '0011100101', 0),
    (101, 1, '1100100101', 1),
    (102, 0, '0011100110', 0),
    (102, 1, '1100100110', 1),
    (103, 0, '0011000111', 0),
    (103, 1, '1100111000', 1),
    (104, 0, '1100100111', 1),
    (104, 1, '0011011000', 0),
    (105, 0, '0011101001', 0),
    (105, 1, '1100101001', 1),
    (106, 0, '0011101010', 0),
    (106, 1, '1100101010', 1),
    (107, 0, '0011001011', 0),
    (107, 1, '1100001011', 1),
    (108, 0, '0011101100', 0),
    (108, 1, '1100101100', 1),
    (109, 0, '0011001101', 0),
    (109, 1, '1100001101', 1),
    (110, 0, '0011001110', 0),
    (110, 1, '1100001110', 1),
    (111, 0, '1100111010', 1),
    (111, 1, '0011000101', 0),
    (112, 0, '1100110110', 1),
    (112, 1, '0011001001', 0),
    (113, 0, '0011110001', 0),
    (113, 1, '1100110001', 1),
    (114, 0, '0011110010', 0),
    (114, 1, '1100110010', 1),
    (115, 0, '0011010011', 0),
    (115, 1, '1100010011', 1),
    (116, 0, '0011110100', 0),
    (116, 1, '1100110100', 1),
    (117, 0, '0011010101', 0),
    (117, 1, '1100010101', 1),
    (118, 0, '0011010110', 0),
    (118, 1, '1100010110', 1),
    (119, 0, '1100010111', 1),
    (119, 1, '0011101000', 0),
    (120, 0, '1100110011', 1),
    (120, 1, '0011001100', 0),
    (121, 0, '0011011001', 0),
    (121, 1, '1100011001', 1),
    (122, 0, '0011011010', 0),
    (122, 1, '1100011010', 1),
    (123, 0, '1100011011', 1),
    (123, 1, '0011100100', 0),
    (124, 0, '0011011100', 0),
    (124, 1, '1100011100', 1),
    (125, 0, '1100011101', 1),
    (125, 1, '0011100010', 0),
    (126, 0, '1100011110', 1),
    (126, 1, '0011100001', 0),
    (127, 0, '1100110101', 1),
    (127, 1, '0011001010', 0),
    (128, 0, '0100111001', 0),
    (128, 1, '1011000110', 1),
    (129, 0, '0100101110', 0),
    (129, 1, '1011010001', 1),
    (130, 0, '0100101101', 0),
    (130, 1, '1011010010', 1),
    (131, 0, '1011100011', 1),
    (131, 1, '0100100011', 0),
    (132, 0, '0100101011', 0),
    (132, 1, '1011010100', 1),
    (133, 0, '1011100101', 1),
    (133, 1, '0100100101', 0),
    (134, 0, '1011100110', 1),
    (134, 1, '0100100110', 0),
    (135, 0, '1011000111', 1),
    (135, 1, '0100111000', 0),
    (136, 0, '0100100111', 0),
    (136, 1, '1011011000', 1),
    (137, 0, '1011101001', 1),
    (137, 1, '0100101001', 0),
    (138, 0, '1011101010', 1),
    (138, 1, '0100101010', 0),
    (139, 0, '1011001011', 1),
    (139, 1, '0100001011', 0),
    (140, 0, '1011101100', 1),
    (140, 1, '0100101100', 0),
    (141, 0, '1011001101', 1),
    (141, 1, '0100001101', 0),
    (142, 0, '1011001110', 1),
    (142, 1, '0100001110', 0),
    (143, 0, '0100111010', 0),
    (143, 1, '1011000101', 1),
    (144, 0, '0100110110', 0),
    (144, 1, '1011001001', 1),
    (145, 0, '1011110001', 1),
    (145, 1, '0100110001', 0),
    (146, 0, '1011110010', 1),
    (146, 1, '0100110010', 0),
    (147, 0, '1011010011', 1),
    (147, 1, '0100010011', 0),
    (148, 0, '1011110100', 1),
    (148, 1, '0100110100', 0),
    (149, 0, '1011010101', 1),
    (149, 1, '0100010101', 0),
    (150, 0, '1011010110', 1),
    (150, 1, '0100010110', 0),
    (151, 0, '0100010111', 0),
    (151, 1, '1011101000', 1),
    (152, 0, '0100110011', 0),
    (152, 1, '1011001100', 1),
    (153, 0, '1011011001', 1),
    (153, 1, '0100011001', 0),
    (154, 0, '1011011010', 1),
    (154, 1, '0100011010', 0),
    (155, 0, '0100011011', 0),
    (155, 1, '1011100100', 1),
    (156, 0, '1011011100', 1),
    (156, 1, '0100011100', 0),
    (157, 0, '0100011101', 0),
    (157, 1, '1011100010', 1),
    (158, 0, '0100011110', 0),
    (158, 1, '1011100001', 1),
    (159, 0, '0100110101', 0),
    (159, 1, '1011001010', 1),
    (160, 0, '0101111001', 1),
    (160, 1, '0101000110', 0),
    (161, 0, '0101101110', 1),
    (161, 1, '0101010001', 0),
    (162, 0, '0101101101', 1),
    (162, 1, '0101010010', 0),
    (163, 0, '0101100011', 0),
    (163, 1, '0101100011', 1),
    (164, 0, '0101101011', 1),
    (164, 1, '0101010100', 0),
    (165, 0, '0101100101', 0),
    (165, 1, '0101100101', 1),
    (166, 0, '0101100110', 0),
    (166, 1, '0101100110', 1),
    (167, 0, '0101000111', 0),
    (167, 1, '0101111000', 1),
    (168, 0, '0101100111', 1),
    (168, 1, '0101011000', 0),
    (169, 0, '0101101001', 0),
    (169, 1, '0101101001', 1),
    (170, 0, '0101101010', 0),
    (170, 1, '0101101010', 1),
    (171, 0, '0101001011', 0),
    (171, 1, '0101001011', 1),
    (172, 0, '0101101100', 0),
    (172, 1, '0101101100', 1),
    (173, 0, '0101001101', 0),
    (173, 1, '0101001101', 1),
    (174, 0, '0101001110', 0),
    (174, 1, '0101001110', 1),
    (175, 0, '0101111010', 1),
    (175, 1, '0101000101', 0),
    (176, 0, '0101110110', 1),
    (176, 1, '0101001001', 0),
    (177, 0, '0101110001', 0),
    (177, 1, '0101110001', 1),
    (178, 0, '0101110010', 0),
    (178, 1, '0101110010', 1),
    (179, 0, '0101010011', 0),
    (179, 1, '0101010011', 1),
    (180, 0, '0101110100', 0),
    (180, 1, '0101110100', 1),
    (181, 0, '0101010101', 0),
    (181, 1, '0101010101', 1),
    (182, 0, '0101010110', 0),
    (182, 1, '0101010110', 1),
    (183, 0, '0101010111', 1),
    (183, 1, '0101101000', 0),
    (184, 0, '0101110011', 1),
    (184, 1, '0101001100', 0),
    (185, 0, '0101011001', 0),
    (185, 1, '0101011001', 1),
    (186, 0, '0101011010', 0),
    (186, 1, '0101011010', 1),
    (187, 0, '0101011011', 1),
    (187, 1, '0101100100', 0),
    (188, 0, '0101011100', 0),
    (188, 1, '0101011100', 1),
    (189, 0, '0101011101', 1),
    (189, 1, '0101100010', 0),
    (190, 0, '0101011110', 1),
    (190, 1, '0101100001', 0),
    (191, 0, '0101110101', 1),
    (191, 1, '0101001010', 0),
    (192, 0, '0110111001', 1),
    (192, 1, '0110000110', 0),
    (193, 0, '0110101110', 1),
    (193, 1, '0110010001', 0),
    (194, 0, '0110101101', 1),
    (194, 1, '0110010010', 0),
    (195, 0, '0110100011', 0),
    (195, 1, '0110100011', 1),
    (196, 0, '0110101011', 1),
    (196, 1, '0110010100', 0),
    (197, 0, '0110100101', 0),
    (197, 1, '0110100101', 1),
    (198, 0, '0110100110', 0),
    (198, 1, '0110100110', 1),
    (199, 0, '0110000111', 0),
    (199, 1, '0110111000', 1),
    (200, 0, '0110100111', 1),
    (200, 1, '0110011000', 0),
    (201, 0, '0110101001', 0),
    (201, 1, '0110101001', 1),
    (202, 0, '0110101010', 0),
    (202, 1, '0110101010', 1),
    (203, 0, '0110001011', 0),
    (203, 1, '0110001011', 1),
    (204, 0, '0110101100', 0),
    (204, 1, '0110101100', 1),
    (205, 0, '0110001101', 0),
    (205, 1, '0110001101', 1),
    (206, 0, '0110001110', 0),
    (206, 1, '0110001110', 1),
    (207, 0, '0110111010', 1),
    (207, 1, '0110000101', 0),
    (208, 0, '0110110110', 1),
    (208, 1, '0110001001', 0),
    (209, 0, '0110110001', 0),
    (209, 1, '0110110001', 1),
    (210, 0, '0110110010', 0),
    (210, 1, '0110110010', 1),
    (211, 0, '0110010011', 0),
    (211, 1, '0110010011', 1),
    (212, 0, '0110110100', 0),
    (212, 1, '0110110100', 1),
    (213, 0, '0110010101', 0),
    (213, 1, '0110010101', 1),
    (214, 0, '0110010110', 0),
    (214, 1, '0110010110', 1),
    (215, 0, '0110010111', 1),
    (215, 1, '0110101000', 0),
    (216, 0, '0110110011', 1),
    (216, 1, '0110001100', 0),
    (217, 0, '0110011001', 0),
    (217, 1, '0110011001', 1),
    (218, 0, '0110011010', 0),
    (218, 1, '0110011010', 1),
    (219, 0, '0110011011', 1),
    (219, 1, '0110100100', 0),
    (220, 0, '0110011100', 0),
    (220, 1, '0110011100', 1),
    (221, 0, '0110011101', 1),
    (221, 1, '0110100010', 0),
    (222, 0, '0110011110', 1),
    (222, 1, '0110100001', 0),
    (223, 0, '0110110101', 1),
    (223, 1, '0110001010', 0),
    (224, 0, '1000111001', 0),
    (224, 1, '0111000110', 1),
    (225, 0, '1000101110', 0),
    (225, 1, '0111010001', 1),
    (226, 0, '1000101101', 0),
    (226, 1, '0111010010', 1),
    (227, 0, '0111100011', 1),
    (227, 1, '1000100011', 0),
    (228, 0, '1000101011', 0),
    (228, 1, '0111010100', 1),
    (229, 0, '0111100101', 1),
    (229, 1, '1000100101', 0),
    (230, 0, '0111100110', 1),
    (230, 1, '1000100110', 0),
    (231, 0, '0111000111', 1),
    (231, 1, '1000111000', 0),
    (232, 0, '1000100111', 0),
    (232, 1, '0111011000', 1),
    (233, 0, '0111101001', 1),
    (233, 1, '1000101001', 0),
    (234, 0, '0111101010', 1),
    (234, 1, '1000101010', 0),
    (235, 0, '0111001011', 1),
    (235, 1, '0001001011', 0),
    (236, 0, '0111101100', 1),
    (236, 1, '1000101100', 0),
    (237, 0, '0111001101', 1),
    (237, 1, '0001001101', 0),
    (238, 0, '0111001110', 1),
    (238, 1, '0001001110', 0),
    (239, 0, '1000111010', 0),
    (239, 1, '0111000101', 1),
    (240, 0, '1000110110', 0),
    (240, 1, '0111001001', 1),
    (241, 0, '1110110001', 1),
    (241, 1, '1000110001', 0),
    (242, 0, '1110110010', 1),
    (242, 1, '1000110010', 0),
    (243, 0, '0111010011', 1),
    (243, 1, '1000010011', 0),
    (244, 0, '1110110100', 1),
    (244, 1, '1000110100', 0),
    (245, 0, '0111010101', 1),
    (245, 1, '1000010101', 0),
    (246, 0, '0111010110', 1),
    (246, 1, '1000010110', 0),
    (247, 0, '1000010111', 0),
    (247, 1, '0111101000', 1),
    (248, 0, '1000110011', 0),
    (248, 1, '0111001100', 1),
    (249, 0, '0111011001', 1),
    (249, 1, '1000011001', 0),
    (250, 0, '0111011010', 1),
    (250, 1, '1000011010', 0),
    (251, 0, '1000011011', 0),
    (251, 1, '0111100100', 1),
    (252, 0, '0111011100', 1),
    (252, 1, '1000011100', 0),
    (253, 0, '1000011101', 0),
    (253, 1, '0111100010', 1),
    (254, 0, '1000011110', 0),
    (254, 1, '0111100001', 1),
    (255, 0, '1000110101', 0),
    (255, 1, '0111001010', 1),
    (284, 0, '0010111100', 0),
    (284, 1, '1101000011', 1),
    (316, 0, '1001111100', 1),
    (316, 1, '0110000011', 0),
    (348, 0, '1010111100', 1),
    (348, 1, '0101000011', 0),
    (380, 0, '1100111100', 1),
    (380, 1, '0011000011', 0),
    (412, 0, '0100111100', 0),
    (412, 1, '1011000011', 1),
    (444, 0, '0101111100', 1),
    (444, 1, '1010000011', 0),
    (476, 0, '0110111100', 1),
    (476, 1, '1001000011', 0),
    (503, 0, '0001010111', 0),
    (503, 1, '1110101000', 1),
    (507, 0, '0001011011', 0),
    (507, 1, '1110100100', 1),
    (508, 0, '0001111100', 0),
    (508, 1, '1110000011', 1),
    (509, 0, '0001011101', 0),
    (509, 1, '1110100010', 1),
    (510, 0, '0001011110', 0),
    (510, 1, '1110100001', 1),
]

encode_dict = dict()

for dat in encode_table:
    if not (dat[0] in encode_dict):
        encode_dict[dat[0]] = [ "", -1, "", -1 ]
    if dat[1] == 0:
        encode_dict[dat[0]][0] = dat[2]
        encode_dict[dat[0]][1] = dat[3]
    else:
        encode_dict[dat[0]][2] = dat[2]
        encode_dict[dat[0]][3] = dat[3]

disparity=0
sequence=""

for i in range(1000000):
    if i % 69 == 0:
        idx = 0x1fc
        disparity = 0
        sequence += "x"
    elif i % 69 == 67:
        idx = 0x1bc
    else:
        idx = np.random.randint(256)
    assert idx in encode_dict
    assert encode_dict[idx][2*disparity+1] >= 0
    sequence += encode_dict[idx][2*disparity][::-1]
    disparity = encode_dict[idx][2*disparity+1]

frequency = np.zeros(5)
state = 'x'
count = 1

for i in range(len(sequence)):
    if state != sequence[i]:
        if state != 'x':
            frequency[count-1] += count
        state = sequence[i]
        count = 1
    else:
        count += 1

print(frequency / np.sum(frequency))
